webpackJsonp([1],{"4W5u":function(t,s){},"6igS":function(t,s){},DODC:function(t,s){},Dhq0:function(t,s){},LZ5v:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("7+uW"),a=e("Sazm"),n=e.n(a),o=e("Dd8w"),r=e.n(o),l=e("PJh5"),d=e.n(l);function c(t){var s=[];for(var e in t)s.push(r()({},t[e],{key:e,id:e}));return s}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),s=d()()-d()(new Date(t)),e=new Date(t),i=d.a.utc(s).dayOfYear()-1,a=d.a.utc(s).hour(),n=d.a.utc(s).minute(),o=d.a.utc(s).second();return i>1?d()(e).format("D/MM/YY").toString():1===i?"Yesterday "+d()(e).format("HH:mm").toString():a>=1?a+"h ago":n>=1?n+"m ago":o+"s ago"}function m(t){return t.slice(0,t.indexOf("@"))}var v={name:"App",created:function(){n.a.auth().currentUser&&(this.username=m(n.a.auth().currentUser.email))},data:function(){return{username:this.getUsername()}},methods:{getUsername:function(){return n.a.auth().currentUser?m(n.a.auth().currentUser.email):""},isAuthenticated:function(){return n.a.auth().currentUser},signOut:function(){var t=this;n.a.auth().signOut().then(function(){t.$router.replace("/auth")})}}},h={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"app",attrs:{id:"app"}},[e("header",{staticClass:"ui fixed menu app-header"},[e("div",{staticClass:"ui container"},[e("router-link",{attrs:{to:"/"}},[e("h1",[e("i",{staticClass:"comments icon"}),t._v("Discussee\n        ")])]),t._v(" "),t.isAuthenticated()?e("div",{staticClass:"ui right floated simple dropdown item"},[e("span",[t._v("\n          "+t._s(t.username)+"\n        ")]),t._v(" "),e("i",{staticClass:"dropdown icon"}),t._v(" "),e("div",{staticClass:"menu"},[e("a",{staticClass:"item",attrs:{href:"#"},on:{click:function(s){t.signOut()}}},[t._v("\n            Sign Out\n          ")])])]):t._e()],1)]),t._v(" "),e("content",{staticClass:"ui main container app-content"},[e("router-view")],1),t._v(" "),e("footer",{staticClass:"ui footer segment app-footer"},[t._v("\n    Copyright Â© 2018 by marudits\n  ")])])},staticRenderFns:[]};var f=e("VU/8")(v,h,!1,function(t){e("LZ5v")},null,null).exports,p=e("/ocq"),_=e("woOf"),g=e.n(_),C=e("//Fk"),j=e.n(C);function b(t,s){console.log("updateTodo: id: ",t,"| item: ",s);var e=m(n.a.auth().currentUser.email);n.a.database().ref("todos").child(t).update(g()({},s,{updatedBy:e},{updatedAt:Date.now()}))}function y(){return m(n.a.auth().currentUser.email)}var w={name:"TodoItem",props:["todo"],created:function(){var t=this;n.a.database().ref("comments").child(this.todo.id).on("value",function(s){s.val()?t.comments=c(s.val()).length:t.comments=0})},data:function(){return{comments:0}},methods:{calculateDiffTime:function(t){return u(t)},editItem:function(){var t=this.todo,s=t.key;delete t.key,delete t.id,b(s,g()({},t,{isEditing:!1})),this.toggleIsEditing()},isThreadCreator:function(){return this.todo.createdBy===y()},toggleIsEditing:function(){this.todo.isEditing=!this.todo.isEditing},toggleStatus:function(){var t,s,e;this.isThreadCreator()&&(this.todo.isDone=!this.todo.isDone,t=this.todo.id,s=this.todo.isDone,e=m(n.a.auth().currentUser.email),n.a.database().ref("todos").child(t).update({isDone:s,updatedAt:Date.now(),updatedBy:e}))},removeItem:function(){var t;t=this.todo.id,n.a.database().ref("todos").child(t).remove(),n.a.database().ref("comments").child(t).remove()}}},T={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"card todo-item"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEditing,expression:"!todo.isEditing"}],staticClass:"content todo-item__content"},[t.isThreadCreator()?e("span",{staticClass:"item-action"},[e("i",{staticClass:"right floated basic red trash icon",on:{click:function(s){t.removeItem()}}}),t._v(" "),e("i",{staticClass:"right floated basic yellow edit icon",on:{click:function(s){t.toggleIsEditing()}}})]):t._e(),t._v(" "),e("div",{staticClass:"header"},[e("router-link",{attrs:{to:"/detail/"+t.todo.id}},[t._v(t._s(t.todo.title))])],1),t._v(" "),e("div",{staticClass:"meta"},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.todo.isDone,expression:"todo.isDone"}],staticClass:"red lock icon"}),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isDone,expression:"!todo.isDone"}],staticClass:"green unlock icon"}),t._v("\n\t\t\t"+t._s(t.todo.isDone?"Closed":"Opened")+"\n\t\t")]),t._v(" "),e("div",{staticClass:"description"},[t._v("\n\t\t\t"+t._s(t.todo.desc.slice(0,200)+"...")+"\n\t\t")]),t._v(" "),e("div",{staticClass:"info"},[t._v("\n\t\t\tCreated by "),e("span",{staticClass:"info-meta__user"},[t._v(t._s(t.todo.createdBy))]),t._v(" at "),e("span",{staticClass:"info-meta__date"},[t._v(t._s(this.calculateDiffTime(t.todo.createdAt)))])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.todo.isEditing,expression:"todo.isEditing"}],staticClass:"content"},[e("div",{staticClass:"ui form"},[e("div",{staticClass:"field"},[e("label",[t._v("Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],attrs:{type:"text",name:"todo-title"},domProps:{value:t.todo.title},on:{input:function(s){s.target.composing||t.$set(t.todo,"title",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"field"},[e("label",[t._v("Description")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.todo.desc,expression:"todo.desc"}],attrs:{name:"todo-desc"},domProps:{value:t.todo.desc},on:{input:function(s){s.target.composing||t.$set(t.todo,"desc",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"ui two button attached buttons"},[e("button",{staticClass:"ui basic grey button",on:{click:function(s){t.editItem()}}},[t._v("\n\t\t\t\t\tFinish Editing\n\t\t\t\t")])])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEditing,expression:"!todo.isEditing"}],staticClass:"extra content todo-item__actions"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isDone,expression:"!todo.isDone"}],staticClass:"ui labeled button",attrs:{tabindex:"0"}},[e("div",{staticClass:"ui vertical animated red basic button",on:{click:function(s){t.toggleStatus()}}},[e("div",{staticClass:"visible content"},[t._v("\n\t\t\t\t\tMark as Closed\n\t\t\t\t")]),t._v(" "),t._m(0)]),t._v(" "),e("a",{staticClass:"ui basic red left pointing label",attrs:{href:"#"}},[e("router-link",{staticClass:"ui red",attrs:{to:"/detail/"+t.todo.id}},[e("i",{staticClass:"comments icon"}),t._v("\n\t\t\t\t\t"+t._s(t.comments)+"\n\t\t\t\t")])],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.todo.isDone,expression:"todo.isDone"}],staticClass:"ui labeled button",attrs:{tabindex:"0"}},[e("div",{staticClass:"ui vertical animated green button",on:{click:function(s){t.toggleStatus()}}},[e("div",{staticClass:"visible content"},[t._v("\n\t\t\t\t\tMark as Opened\n\t\t\t\t")]),t._v(" "),t._m(1)]),t._v(" "),e("a",{staticClass:"ui basic green left pointing label",attrs:{href:"#"}},[e("router-link",{staticClass:"ui green",attrs:{to:"/detail/"+t.todo.id}},[e("i",{staticClass:"comments icon"}),t._v("\n\t\t\t\t\t"+t._s(t.comments)+"\n\t\t\t\t")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"hidden content"},[s("i",{staticClass:"lock icon"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"hidden content"},[s("i",{staticClass:"unlock icon"})])}]};var E={name:"TodoList",components:{"todo-item":e("VU/8")(w,T,!1,function(t){e("sFzM")},null,null).exports},created:function(){this.getTodos()},updated:function(){this.updateProgress()},data:function(){return{todo:{title:null,desc:null},todos:[],isAdding:!1}},events:{toggleForm:function(){this.isAdding=!this.isAdding}},methods:{getTodos:function(){var t=this;n.a.database().ref("todos").on("value",function(s){s.val()?t.todos=c(s.val()):t.todos=[],t.updateProgress()})},updateProgress:function(){var t=this.todos.filter(function(t){return!0===t.isDone}).length;$("#list-progress").progress({percent:t/this.todos.length*100})}}},x={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"todo-list"},[e("header",{staticClass:"todo-list__header"},[e("h2",[t._v("\n\t\t\tThread List\n\t\t\t"),e("router-link",{attrs:{to:"/add"}},[e("i",{staticClass:"green add circle icon"})])],1),t._v(" "),e("div",{staticClass:"list-summary"},[e("div",{staticClass:"list-summary__label"},[e("span",{staticClass:"ui label"},[e("i",{staticClass:"list layout icon"}),t._v(" "+t._s(t.todos.length)+"\n\t\t\t\t")]),t._v(" "),e("span",{staticClass:"ui green label"},[e("i",{staticClass:"unlock icon"}),t._v(" "+t._s(t.todos.filter(function(t){return!1===t.isDone}).length)+"\n\t\t\t\t")]),t._v(" "),e("span",{staticClass:"ui red label"},[e("i",{staticClass:"lock icon"}),t._v(" "+t._s(t.todos.filter(function(t){return!0===t.isDone}).length)+"\n\t\t\t\t")])])])]),t._v(" "),e("content",{staticClass:"todo-list__content"},[e("div",{staticClass:"ui cards"},t._l(t.todos,function(t,s){return e("todo-item",{key:t.id,attrs:{todo:t,index:s}})}))]),t._v(" "),e("footer",{staticClass:"todo-list__footer"})])},staticRenderFns:[]};var D=e("VU/8")(E,x,!1,function(t){e("Dhq0")},null,null).exports,N=e("fZjL"),k=e.n(N),I={FIREBASE:{CONFIG:{apiKey:"AIzaSyBqhxzgYP1JEZTNpgd2nPoXwnOWh1-CTec",authDomain:"todo-apps-980c4.firebaseapp.com",databaseURL:"https://todo-apps-980c4.firebaseio.com",projectId:"todo-apps-980c4",storageBucket:"todo-apps-980c4.appspot.com",messagingSenderId:"998029269939"}}},O={TODO:{DESC:{MIN_LENGTH:200}}},S={COMMON:{MESSAGE:{REQUIRED:"This field is required",NOT_EMPTY:"This field shouldn't be empty",FORMAT:"Your input isn't at correct format"}},TODO:{DESC:{MIN_LENGTH:"Minimum "+O.TODO.DESC.MIN_LENGTH+" characters"}}},F={name:"TodoDetail",created:function(){this.getTodos(),this.getComments(),this.getIsTyping()},data:function(){return{item:{},form:{text:null},validation:{text:{error:null,message:null}},comments:[],isTyping:{timer:null,list:null,count:null}}},methods:{addComment:function(){var t,s,e;this.validateForm()&&(t=this.item.id,s=this.form.text,e=m(n.a.auth().currentUser.email),n.a.database().ref("comments").child(t).push({name:e,text:s,timestamp:Date.now()}),this.resetForm())},formatIsTypingInfo:function(){var t=1===this.isTyping.list.filter(function(t){return t.key===y()}).length,s=this.isTyping.list.filter(function(t){return t.key!==y()});this.isTyping.list.length;return 1===this.isTyping.list.length?(t?"You are":this.isTyping.list[0].id+" is")+" typing...":t?"You and "+(s.length>1?s.length+" people":s[0].id)+" are typing...":s[0].id+" and "+(s.length>2?s.length+" people":s[1].id)+" are typing..."},formatTime:function(t){return u(t)},getComments:function(){var t=this;n.a.database().ref("comments").child(this.$route.params.id).on("value",function(s){s.val()?(t.comments=c(s.val()),t.scrollComments()):t.comments=[]})},getIsTyping:function(){var t=this;n.a.database().ref("isTyping").child(this.$route.params.id).on("value",function(s){s.val()?(t.isTyping.list=c(s.val()),t.isTyping.count=k()(s.val()).length):(t.isTyping.list=[],t.isTyping.count=0)})},getTodos:function(){var t=this;(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new j.a(function(s,e){n.a.database().ref("todos"+(t?"/"+t:"")).on("value",function(t){t.val()?s(t.val()):e(null)})})})(this.$route.params.id).then(function(s){t.item=g()(s,{key:t.$route.params.id},{id:t.$route.params.id})})},handleComment:function(){var t=this.form.text;t&&(this.resetIsTypingTimer(this.item.id),function(t,s){var e=y();n.a.database().ref("isTyping").child(t).child(e).set({text:s})}(this.item.id,t))},isOwnComment:function(t){return t===m(n.a.auth().currentUser.email)},resetForm:function(){for(var t in this.form)this.form[t]=null},resetIsTypingTimer:function(t){this.isTyping.timer&&(clearTimeout(this.isTyping.timer),this.isTyping.timer=null);var s=this;this.isTyping.timer=setTimeout(function(){s.stoppedTyping(t)},5e3)},resetValidation:function(){for(var t in this.validation)this.validation[t].error=null,this.validation[t].message=null},scrollComments:function(){$("#comments-list").animate({scrollTop:$("#comments-list").prop("scrollHeight")},500)},stoppedTyping:function(t){this.isTyping.timer&&(this.isTyping.timer=null,function(t){var s=y();n.a.database().ref("isTyping").child(t).child(s).remove()}(t))},validateForm:function(){this.resetValidation();var t=this.form.text;return!t||t.trim().length<=0?(this.validation.text.error=!0,this.validation.text.message=S.COMMON.MESSAGE.NOT_EMPTY,!1):(this.validation.text.error=null,this.validation.text.message=null,!0)}}},z={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"todo-detail"},[t._m(0),t._v(" "),e("content",[e("section",{staticClass:"todo-detail__info"},[e("div",{staticClass:"info-meta"},[e("p",[t._v("Created by "),e("span",{staticClass:"info-meta__user"},[t._v(t._s(t.item.createdBy))]),t._v(" at "),e("span",{staticClass:"info-meta__date"},[t._v(t._s(this.formatTime(t.item.createdAt)))])]),t._v(" "),e("p",[t._v("Last Updated "),e("span",{staticClass:"info-meta__date"},[t._v(t._s(this.formatTime(t.item.updatedAt)))])])]),t._v(" "),e("h4",[t._v(t._s(t.item.title))]),t._v(" "),e("p",[t._v(t._s(t.item.desc))])]),t._v(" "),e("section",{staticClass:"todo-detail__comments"},[e("div",{staticClass:"ui comments"},[e("h4",{staticClass:"ui dividing header"},[t._v(t._s(t.comments.length)+" Comments")]),t._v(" "),e("div",{staticClass:"comments-list",attrs:{id:"comments-list"}},[t._l(t.comments,function(s){return e("div",{staticClass:"comment comments-item",attrs:{id:"comment-"+s.id}},[t.isOwnComment(s.name)?t._e():e("div",{staticClass:"comments-item__other"},[t._m(1,!0),t._v(" "),e("div",{staticClass:"item-content"},[e("a",{staticClass:"author"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"text ui teal label"},[t._v("\n\t\t\t\t\t\t    \t\t"+t._s(s.text)+"\n\t\t\t\t\t\t    \t")]),t._v(" "),e("div",{staticClass:"timestamp"},[t._v("\n\t\t\t\t\t\t    \t\t"+t._s(t.formatTime(s.timestamp))+"\n\t\t\t\t\t\t    \t")])])]),t._v(" "),t.isOwnComment(s.name)?e("div",{staticClass:"comments-item__own"},[e("div",{staticClass:"item-content"},[e("div",{staticClass:"text ui blue label"},[t._v("\n\t\t\t\t\t\t    \t\t"+t._s(s.text)+"\n\t\t\t\t\t\t    \t")]),t._v(" "),e("div",{staticClass:"timestamp"},[t._v("\n\t\t\t\t\t\t    \t\t"+t._s(t.formatTime(s.timestamp))+"\n\t\t\t\t\t\t    \t")])])]):t._e()])}),t._v(" "),t.isTyping.count>0?e("div",{staticClass:"comments-item__istyping"},[e("p",[t._v(t._s(t.formatIsTypingInfo()))])]):t._e()],2),t._v(" "),t.item.isDone?e("div",{staticClass:"ui horizontal divider comments-locked"},[t._v("\n\t\t\t\t\tCreator has closed this thread\n\t\t\t\t")]):t._e(),t._v(" "),t.item.isDone?t._e():e("form",{staticClass:"ui reply form"},[e("div",{staticClass:"field"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.text,expression:"form.text"}],attrs:{name:"form-text",rows:"3"},domProps:{value:t.form.text},on:{keyup:function(s){t.handleComment()},input:function(s){s.target.composing||t.$set(t.form,"text",s.target.value)}}})]),t._v(" "),t.validation.text.error?e("div",{staticClass:"message-error"},[t._v(t._s(t.validation.text.message))]):t._e(),t._v(" "),e("div",{staticClass:"ui blue labeled submit icon button",on:{click:function(s){t.addComment()}}},[e("i",{staticClass:"icon comment"}),t._v(" Add Comment\n\t\t\t\t    ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("header",[s("h2",[this._v("Thread Detail")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("a",{staticClass:"item-avatar"},[s("i",{staticClass:"user teal icon big"})])}]};var U=e("VU/8")(F,z,!1,function(t){e("zNlY")},null,null).exports,A={name:"TodoForm",props:["todo","mode"],data:function(){return{validation:{title:{error:null,message:null},desc:{error:null,message:null}}}},methods:{addTodo:function(){var t,s,e;t=this.todo.title,s=this.todo.desc,e=m(n.a.auth().currentUser.email),n.a.database().ref("todos").push({title:t,desc:s,isEditing:!1,isDone:!1,createdAt:Date.now(),createdBy:e,updatedAt:Date.now(),updatedBy:e})},handleSubmit:function(){if(this.validateForm()){switch(this.mode){case"ADD":this.addTodo();break;case"UPDATE":this.updateTodo()}this.resetForm(),this.$router.push("/")}},updateTodo:function(){b(this.todo.id,this.todo)},resetForm:function(){for(var t in this.todo)this.todo[t]=null;this.resetValidation()},resetValidation:function(){for(var t in this.validation)this.validation[t].error=null,this.validation[t].message=null},validateForm:function(){this.resetValidation();var t=this.todo,s=t.title,e=t.desc;if(!s||s.trim().length<=0)return this.validation.title.error=!0,this.validation.title.message=S.COMMON.MESSAGE.REQUIRED,!1;if(this.validation.title.error=null,this.validation.title.message=null,!e||e.trim().length<=0)return this.validation.desc.error=!0,this.validation.desc.message=S.COMMON.MESSAGE.NOT_EMPTY,!1;if(e.trim().length<O.TODO.DESC.MIN_LENGTH){var i=O.TODO.DESC.MIN_LENGTH-e.trim().length;return this.validation.desc.error=!0,this.validation.desc.message=S.TODO.DESC.MIN_LENGTH+". "+i+" characters remain.",!1}return this.validation.desc.error=null,this.validation.desc.message=null,!0}}},M={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[e("div",{staticClass:"ui form"},[e("div",{staticClass:"field"},[e("label",[t._v("Title")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],attrs:{type:"text",name:"todo-title"},domProps:{value:t.todo.title},on:{input:function(s){s.target.composing||t.$set(t.todo,"title",s.target.value)}}})]),t._v(" "),t.validation.title.error?e("div",{staticClass:"message-error"},[t._v(t._s(t.validation.title.message))]):t._e(),t._v(" "),e("div",{staticClass:"field"},[e("label",[t._v("Description")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.todo.desc,expression:"todo.desc"}],attrs:{name:"todo-desc"},domProps:{value:t.todo.desc},on:{input:function(s){s.target.composing||t.$set(t.todo,"desc",s.target.value)}}})]),t._v(" "),t.validation.desc.error?e("div",{staticClass:"message-error"},[t._v(t._s(t.validation.desc.message))]):t._e(),t._v(" "),e("div",{staticClass:"ui two attached buttons"},[e("button",{staticClass:"ui button",on:{click:function(s){t.resetForm()}}},[t._v("Reset")]),t._v(" "),e("div",{staticClass:"or"}),t._v(" "),e("button",{staticClass:"ui positive button",on:{click:function(s){t.handleSubmit()}}},[t._v("Submit")])])])])},staticRenderFns:[]};var P={components:{"todo-form":e("VU/8")(A,M,!1,function(t){e("6igS")},null,null).exports},created:function(){this.todo={title:null,desc:null},this.mode="ADD"},data:function(){return{todo:{title:null,desc:null},mode:"ADD"}}},L={render:function(){var t=this.$createElement,s=this._self._c||t;return s("section",{staticClass:"todo-form"},[this._m(0),this._v(" "),s("content",[s("todo-form",{attrs:{todo:this.todo,mode:this.mode}})],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("header",[s("h2",[this._v("Thread Form")])])}]};var G=e("VU/8")(P,L,!1,function(t){e("4W5u")},null,null).exports,R={name:"Auth",data:function(){return{mode:"SIGN_IN",form:{email:null,password:null},isLoading:null,validation:{email:{error:null,message:null},password:{error:null,message:null},submission:{error:null,message:null}}}},methods:{handleSubmit:function(){switch(this.mode){case"SIGN_IN":this.signIn();break;case"SIGN_UP":this.signUp()}},resetForm:function(){for(var t in this.form)this.form[t]=null;this.resetValidation()},resetValidation:function(){for(var t in this.validation)this.validation[t].error=null,this.validation[t].message=null},signUp:function(){var t,s,e=this;this.isLoading="loading",(t=this.form.email,s=this.form.password,new j.a(function(e,i){n.a.auth().createUserWithEmailAndPassword(t,s).then(function(t){e({status:!0,data:t})},function(t){i({status:!1,data:t})})})).then(function(t){e.isLoading=null,e.resetForm(),e.toggleMode(),t.status&&e.$router.push("/")}).catch(function(t){e.isLoading=null,e.validation.submission.error=!0,e.validation.submission.message=t.data.message})},signIn:function(){var t,s,e=this;this.isLoading="loading",(t=this.form.email,s=this.form.password,new j.a(function(e,i){n.a.auth().signInWithEmailAndPassword(t,s).then(function(t){e({status:!0,data:t})},function(t){i({status:!1,data:t})})})).then(function(t){e.isLoading=null,e.resetForm(),t.status&&e.$router.push("/")}).catch(function(t){e.isLoading=null,e.validation.submission.error=!0,e.validation.submission.message=t.data.message})},toggleMode:function(){this.mode="SIGN_IN"===this.mode?"SIGN_UP":"SIGN_IN",this.resetForm()}}},q={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"auth"},[e("header",{staticClass:"auth-header"},[e("h3",[t._v("Welcome")]),t._v(" "),"SIGN_IN"===t.mode?e("p",[t._v("Please sign in to continue")]):t._e(),t._v(" "),"SIGN_UP"===t.mode?e("p",[t._v("Create account and enjoy the app")]):t._e()]),t._v(" "),e("content",{staticClass:"auth-content"},[e("div",{class:"ui "+t.isLoading+" form"},[e("div",{staticClass:"ui field"},[e("div",{staticClass:"ui left icon input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.form.email},on:{input:function(s){s.target.composing||t.$set(t.form,"email",s.target.value)}}}),t._v(" "),e("i",{staticClass:"mail icon"})])]),t._v(" "),t.validation.email.error?e("div",{staticClass:"message-error"},[t._v("\n\t\t\t\t"+t._s(t.validation.email.message)+"\n\t\t\t")]):t._e(),t._v(" "),e("div",{staticClass:"ui field"},[e("div",{staticClass:"ui left icon input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.form.password},on:{input:function(s){s.target.composing||t.$set(t.form,"password",s.target.value)}}}),t._v(" "),e("i",{staticClass:"lock icon"})])]),t._v(" "),t.validation.password.error?e("div",{staticClass:"message-error"},[t._v("\n\t\t\t\t"+t._s(t.validation.password.message)+"\n\t\t\t")]):t._e(),t._v(" "),e("div",{staticClass:"ui field"},[e("div",{class:"ui submit "+("SIGN_IN"===t.mode?"blue":"green")+" button",on:{click:function(s){t.handleSubmit()}}},[t._v("\n\t\t\t\t\t"+t._s("SIGN_IN"===t.mode?"Sign In":"Sign Up")+"\n\t\t\t\t")])]),t._v(" "),t.validation.submission.error?e("div",{staticClass:"message-error"},[t._v("\n\t\t\t\t"+t._s(t.validation.submission.message)+"\n\t\t\t")]):t._e()])]),t._v(" "),e("footer",{staticClass:"auth-footer"},["SIGN_IN"===t.mode?e("p",[t._v("Don't have account? "),e("a",{attrs:{href:"#/auth"},on:{click:function(s){t.toggleMode()}}},[t._v("Sign Up")]),t._v(" now")]):t._e(),t._v(" "),"SIGN_UP"===t.mode?e("p",[t._v("Already have account? "),e("a",{attrs:{href:"#/auth"},on:{click:function(s){t.toggleMode()}}},[t._v("Sign In")]),t._v(" now")]):t._e()])])},staticRenderFns:[]};var V=e("VU/8")(R,q,!1,function(t){e("DODC")},null,null).exports;i.a.use(p.a);var B=new p.a({routes:[{path:"/",name:"TodoList",component:D,meta:{requiresAuth:!0}},{path:"/detail/:id",name:"TodoDetail",component:U,meta:{requiresAuth:!0}},{path:"/add",name:"TodoAdd",component:G,meta:{requiresAuth:!0}},{path:"/auth",name:"Auth",component:V},{path:"*",redirect:"/auth"}]});B.beforeEach(function(t,s,e){var i=n.a.auth().currentUser,a=t.matched.some(function(t){return t.meta.requiresAuth});a&&!i?e("/auth"):!a&&i?e("/"):e()});var H=B;i.a.config.productionTip=!1;var W=void 0;n.a.initializeApp(I.FIREBASE.CONFIG),n.a.auth().onAuthStateChanged(function(t){W||(W=new i.a({el:"#app",router:H,components:{App:f},template:"<App/>"}))})},sFzM:function(t,s){},uslO:function(t,s,e){var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return e(n(t))}function n(t){var s=i[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id="uslO"},zNlY:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.95e874ee02571c300de7.js.map